import{O as S,i as F,aF as K,l as t,_ as Q,f as X,c as h,o as N,a as Y,r as j,a4 as V,g as Z,n as y,m as P,a7 as q,u as _,h as G,aD as x,j as ee,k as ae,p as le,q as p,e as I,s as ne,b9 as ie,d as M}from"./DnIRtcWf.js";const te=(e,n,g=!0)=>{const a=S("form-events",void 0),l=S("form-group",void 0),f=S("form-inputs",void 0);l&&(!g||e?.legend?l.inputId.value=void 0:e?.id&&(l.inputId.value=e?.id),f&&(f.value[l.name.value]=l.inputId.value));const d=F(!1);function u(v,B){a&&a.emit({type:v,path:B})}function C(){u("blur",l?.name.value),d.value=!0}function z(){u("change",l?.name.value)}const o=K(()=>{(d.value||l?.eagerValidation.value)&&u("input",l?.name.value)},300);return{inputId:t(()=>e?.id??l?.inputId.value),name:t(()=>e?.name??l?.name.value),size:t(()=>{const v=n.size[l?.size.value]?l?.size.value:null;return e?.size??v??n.default?.size}),color:t(()=>l?.error?.value?"red":e?.color),emitFormBlur:C,emitFormInput:o,emitFormChange:z}},r=P(I.ui.strategy,I.ui.input,ie),ue=X({components:{UIcon:q},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>r.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(r.size).includes(e)}},color:{type:String,default:()=>r.default.color,validator(e){return[...I.ui.colors,...Object.keys(r.color)].includes(e)}},variant:{type:String,default:()=>r.default.variant,validator(e){return[...Object.keys(r.variant),...Object.values(r.color).flatMap(n=>Object.keys(n))].includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:n,slots:g}){const{ui:a,attrs:l}=_("input",G(e,"ui"),r,G(e,"class")),{size:f,rounded:d}=x({ui:a,props:e}),{emitFormBlur:u,emitFormInput:C,size:z,color:o,inputId:v,name:B}=te(e,r),s=t(()=>f.value??z.value),c=F(ee({},e.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),k=F(null),w=()=>{e.autofocus&&k.value?.focus()},O=i=>{c.value.trim&&(i=i.trim()),(c.value.number||e.type==="number")&&(i=ne(i)),c.value.nullify&&(i||=null),n("update:modelValue",i),C()},A=i=>{c.value.lazy||O(i.target.value)},D=i=>{if(e.type==="file"){const m=i.target.files;n("change",m)}else{const m=i.target.value;n("change",m),c.value.lazy&&O(m),c.value.trim&&(i.target.value=m.trim())}},T=i=>{u(),n("blur",i)};ae(()=>{setTimeout(()=>{w()},e.autofocusDelay)});const W=t(()=>{const i=a.value.color?.[o.value]?.[e.variant]||a.value.variant[e.variant];return le(p(a.value.base,a.value.form,d.value,a.value.placeholder,e.type==="file"&&a.value.file.base,a.value.size[s.value],e.padded?a.value.padding[s.value]:"p-0",i?.replaceAll("{color}",o.value),(b.value||g.leading)&&a.value.leading.padding[s.value],($.value||g.trailing)&&a.value.trailing.padding[s.value]),e.inputClass)}),b=t(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),$=t(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),U=t(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),E=t(()=>e.loading&&!b.value?e.loadingIcon:e.trailingIcon||e.icon),L=t(()=>p(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[s.value])),J=t(()=>p(a.value.icon.base,o.value&&I.ui.colors.includes(o.value)&&a.value.icon.color.replaceAll("{color}",o.value),a.value.icon.size[s.value],e.loading&&a.value.icon.loading)),R=t(()=>p(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[s.value])),H=t(()=>p(a.value.icon.base,o.value&&I.ui.colors.includes(o.value)&&a.value.icon.color.replaceAll("{color}",o.value),a.value.icon.size[s.value],e.loading&&!b.value&&a.value.icon.loading));return{ui:a,attrs:l,name:B,inputId:v,input:k,isLeading:b,isTrailing:$,inputClass:W,leadingIconName:U,leadingIconClass:J,leadingWrapperIconClass:L,trailingIconName:E,trailingIconClass:H,trailingWrapperIconClass:R,onInput:A,onChange:D,onBlur:T}}}),oe=["id","name","type","required","placeholder","disabled"];function re(e,n,g,a,l,f){const d=q;return N(),h("div",{class:y(e.type==="hidden"?"hidden":e.ui.wrapper)},[Y("input",Z({id:e.inputId,ref:"input",name:e.name,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass},e.type==="file"?e.attrs:{...e.attrs,value:e.modelValue},{onInput:n[0]||(n[0]=(...u)=>e.onInput&&e.onInput(...u)),onBlur:n[1]||(n[1]=(...u)=>e.onBlur&&e.onBlur(...u)),onChange:n[2]||(n[2]=(...u)=>e.onChange&&e.onChange(...u))}),null,16,oe),j(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(N(),h("span",{key:0,class:y(e.leadingWrapperIconClass)},[j(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[M(d,{name:e.leadingIconName,class:y(e.leadingIconClass)},null,8,["name","class"])])],2)):V("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(N(),h("span",{key:1,class:y(e.trailingWrapperIconClass)},[j(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[M(d,{name:e.trailingIconName,class:y(e.trailingIconClass)},null,8,["name","class"])])],2)):V("",!0)],2)}const de=Q(ue,[["render",re]]);export{de as _,te as u};
